{"remainingRequest":"C:\\Users\\Dmitrii\\Desktop\\MyGit\\web-prog-course\\lesson11\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Dmitrii\\Desktop\\MyGit\\web-prog-course\\lesson11\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Dmitrii\\Desktop\\MyGit\\web-prog-course\\lesson11\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Dmitrii\\Desktop\\MyGit\\web-prog-course\\lesson11\\frontend\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Dmitrii\\Desktop\\MyGit\\web-prog-course\\lesson11\\frontend\\src\\App.vue","mtime":1639516305580},{"path":"C:\\Users\\Dmitrii\\Desktop\\MyGit\\web-prog-course\\lesson11\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639481308762},{"path":"C:\\Users\\Dmitrii\\Desktop\\MyGit\\web-prog-course\\lesson11\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1639481310871},{"path":"C:\\Users\\Dmitrii\\Desktop\\MyGit\\web-prog-course\\lesson11\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639481308762},{"path":"C:\\Users\\Dmitrii\\Desktop\\MyGit\\web-prog-course\\lesson11\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1639481310727}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEhlYWRlciBmcm9tICIuL2NvbXBvbmVudHMvSGVhZGVyIjsKaW1wb3J0IE1pZGRsZSBmcm9tICIuL2NvbXBvbmVudHMvTWlkZGxlIjsKaW1wb3J0IEZvb3RlciBmcm9tICIuL2NvbXBvbmVudHMvRm9vdGVyIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGNvbXBvbmVudHM6IHsKICAgIEZvb3RlcjogRm9vdGVyLAogICAgTWlkZGxlOiBNaWRkbGUsCiAgICBIZWFkZXI6IEhlYWRlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IG51bGwsCiAgICAgIHBvc3RzOiBbXSwKICAgICAgdXNlcnM6IFtdCiAgICB9OwogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oImp3dCIpICYmICF0aGlzLnVzZXIpIHsKICAgICAgdGhpcy4kcm9vdC4kZW1pdCgib25Kd3QiLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiand0IikpOwogICAgfQoKICAgIGF4aW9zLmdldCgiL2FwaS8xL3Bvc3RzIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMucG9zdHMgPSByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgICBheGlvcy5nZXQoIi9hcGkvMS91c2VycyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLnVzZXJzID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB0aGlzLiRyb290LiRvbigib25FbnRlciIsIGZ1bmN0aW9uIChsb2dpbiwgcGFzc3dvcmQpIHsKICAgICAgaWYgKHBhc3N3b3JkID09PSAiIikgewogICAgICAgIF90aGlzMi4kcm9vdC4kZW1pdCgib25FbnRlclZhbGlkYXRpb25FcnJvciIsICJQYXNzd29yZCBpcyByZXF1aXJlZCIpOwoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGF4aW9zLnBvc3QoIi9hcGkvMS9qd3QiLCB7CiAgICAgICAgbG9naW46IGxvZ2luLAogICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJqd3QiLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgX3RoaXMyLiRyb290LiRlbWl0KCJvbkp3dCIsIHJlc3BvbnNlLmRhdGEsICJvbkxvZ291dCIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpczIuJHJvb3QuJGVtaXQoIm9uRW50ZXJWYWxpZGF0aW9uRXJyb3IiLCBlcnJvci5yZXNwb25zZS5kYXRhKTsKICAgICAgfSk7CiAgICB9KTsKICAgIHRoaXMuJHJvb3QuJG9uKCJvblJlZ2lzdGVyIiwgZnVuY3Rpb24gKG5hbWUsIGxvZ2luLCBwYXNzd29yZCkgewogICAgICBpZiAocGFzc3dvcmQgPT09ICIiKSB7CiAgICAgICAgX3RoaXMyLiRyb290LiRlbWl0KCJvblJlZ2lzdGVyVmFsaWRhdGlvbkVycm9yIiwgIlBhc3N3b3JkIGlzIHJlcXVpcmVkIik7CgogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgYXhpb3MucG9zdCgiL2FwaS8xL3VzZXJzIiwgewogICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgbG9naW46IGxvZ2luLAogICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJqd3QiLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgX3RoaXMyLiRyb290LiRlbWl0KCJvbkp3dCIsIHJlc3BvbnNlLmRhdGEsICJvblJlZ2lzdGVyIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzMi4kcm9vdC4kZW1pdCgib25SZWdpc3RlclZhbGlkYXRpb25FcnJvciIsIGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0pOwogICAgdGhpcy4kcm9vdC4kb24oIm9uSnd0IiwgZnVuY3Rpb24gKGp3dCwgZXJyb3JFdmVudCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiand0Iiwgand0KTsKICAgICAgYXhpb3MuZ2V0KCIvYXBpLzEvdXNlcnMvYXV0aCIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGp3dDogand0CiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi51c2VyID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgX3RoaXMyLiRyb290LiRlbWl0KCJvbkNoYW5nZVBhZ2UiLCAiSW5kZXgiKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczIuJHJvb3QuJGVtaXQoZXJyb3JFdmVudCk7CiAgICAgIH0pOwogICAgfSk7CiAgICB0aGlzLiRyb290LiRvbigib25Mb2dvdXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJqd3QiKTsKICAgICAgX3RoaXMyLnVzZXIgPSBudWxsOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <Header :user=\"user\"/>\r\n    <Middle :posts=\"posts\" :users=\"users\"/>\r\n    <Footer/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from \"./components/Header\";\r\nimport Middle from \"./components/Middle\";\r\nimport Footer from \"./components/Footer\";\r\nimport axios from \"axios\"\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    Footer,\r\n    Middle,\r\n    Header\r\n  },\r\n  data: function () {\r\n    return {\r\n      user: null,\r\n      posts: [],\r\n      users: []\r\n    }\r\n  },\r\n  beforeMount() {\r\n    if (localStorage.getItem(\"jwt\") && !this.user) {\r\n      this.$root.$emit(\"onJwt\", localStorage.getItem(\"jwt\"));\r\n    }\r\n\r\n    axios.get(\"/api/1/posts\").then(response => {\r\n      this.posts = response.data;\r\n    });\r\n\r\n    axios.get(\"/api/1/users\").then(response => {\r\n      this.users = response.data;\r\n    });\r\n  },\r\n  beforeCreate() {\r\n    this.$root.$on(\"onEnter\", (login, password) => {\r\n      if (password === \"\") {\r\n        this.$root.$emit(\"onEnterValidationError\", \"Password is required\");\r\n        return;\r\n      }\r\n\r\n      axios.post(\"/api/1/jwt\", {\r\n        login, password\r\n      }).then(response => {\r\n        localStorage.setItem(\"jwt\", response.data);\r\n        this.$root.$emit(\"onJwt\", response.data, \"onLogout\");\r\n      }).catch(error => {\r\n        this.$root.$emit(\"onEnterValidationError\", error.response.data);\r\n      });\r\n    });\r\n\r\n    this.$root.$on(\"onRegister\", (name, login, password) => {\r\n      if (password === \"\") {\r\n        this.$root.$emit(\"onRegisterValidationError\", \"Password is required\");\r\n        return;\r\n      }\r\n\r\n      axios.post(\"/api/1/users\", {\r\n        name, login, password\r\n      }).then(response => {\r\n        localStorage.setItem(\"jwt\", response.data);\r\n        this.$root.$emit(\"onJwt\", response.data, \"onRegister\");\r\n      }).catch(error => {\r\n        this.$root.$emit(\"onRegisterValidationError\", error.response.data);\r\n      });\r\n    });\r\n\r\n    this.$root.$on(\"onJwt\", (jwt, errorEvent) => {\r\n      localStorage.setItem(\"jwt\", jwt);\r\n\r\n      axios.get(\"/api/1/users/auth\", {\r\n        params: {\r\n          jwt\r\n        }\r\n      }).then(response => {\r\n        this.user = response.data;\r\n        this.$root.$emit(\"onChangePage\", \"Index\");\r\n      }).catch(() => this.$root.$emit(errorEvent))\r\n    });\r\n\r\n    this.$root.$on(\"onLogout\", () => {\r\n      localStorage.removeItem(\"jwt\");\r\n      this.user = null;\r\n    });\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n\r\n}\r\n</style>\r\n"],"sourceRoot":"src"}]}